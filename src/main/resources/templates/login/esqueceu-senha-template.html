<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head th:replace="fragments/head :: head(~{::title},~{::link})">
	<title>ZEUS | Redefinir senha</title>
	<link rel="preconnect" href="https://educationwp.thimpress.com/wp-content/uploads/2015/10/bg_register_now.jpg}" />
</head>

<body>
	<div class="container-scroller">
		<div class="container-fluid page-body-wrapper">


			<div th:if="${param.logout}"></div>

			<div class="row">
				<div class="content-wrapper full-page-wrapper d-flex align-items-center auth register-full-bg">
					<div class="row w-100">
						<div class="col-lg-4 mx-auto">
								<div class="auth-form-dark text-left p-5">
									<h2>Esqueceu a senha?</h2>
									<h4 class="font-weight-light">Favor informe o email do usu√°rio cadastrado</h4>
									<form th:action="@{/solicitar-nova-senha}" method="post" class="pt-4">
										
										<div th:if="${alert != null}">
											<div th:class="${alert}" role="alert">
												<i class="mdi mdi-alert-circle"></i>
												<span th:text="${message}"></span>
											</div>
										</div>

										<div th:if="${param.error != null}">
											<div class="alert alert-fill-danger" role="alert">
												<i class="mdi mdi-alert-circle"></i>
												<span th:text="${session[SPRING_SECURITY_LAST_EXCEPTION].message}"></span>
											</div>
										</div>

										<div id="loader"></div>

										<div class="form-group">
											<label for="email">E-mail</label>
											<input type="email" class="form-control" id="email" aria-describedby="username" placeholder="E-mail cadastrado"  name="email" required="true"/>
											<i class="mdi mdi-account"></i>
										</div>
										
										<div class="mt-5">
											<button id="btn-action" class="btn btn-block btn-primary btn-lg font-weight-medium" type="button">Solicitar</button>
										</div>
												
										<div class="col-lg-12">
											<div class="row justify-content-between">
												<div class="mt-3 col-lg-6">
													<a th:href="@{/login}" class="auth-link text-white">Fazer login</a>
												</div>
												<div class="mt-3 col-lg-6">
													<a th:href="@{/registro}" class="auth-link text-white">Cadastre-se</a>
												</div>   
											</div>
										</div>		

									</form>
								</div>
						</div>
					</div>
				</div>
				<!-- content-wrapper ends -->
			</div>
			<!-- row ends -->
		</div>
		<!-- page-body-wrapper ends -->
	</div>
	<!-- container-scroller -->
	
	<span th:replace="fragments/base-script :: base"></span>
	<span th:replace="fragments/base-script :: base"></span>
	<script th:src="@{https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js}"></script>
	<script th:src="@{https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js}"></script>
	<span th:replace="fragments/base-script :: plugins"></span>

	<script>
		$(document).ready(function(){

			$('#btn-action').on('click', loader);

		});

		function loader(){
			var form = $('form');
			if(form.valid()){
				$('#loader').addClass('pixel-loader');
				$('form').submit();
			}
		}
	</script>
</body>

</html>